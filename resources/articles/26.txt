
Оптимизация приложений для дальтоников

Дальтонизм, или цветовая слепота, — это нарушение восприятия цветов, вызванное расстройством цветного зрения. Следует отметить, что это одно из распространенных
нарушений зрения: около 8 % мужчин и 1 % женщин
имеют дальтонизм какой-либо степени [1]. Это означает,
что почти каждый десятый человек, пользующийся тем
или иным программным продуктом (приложением) будет
иметь трудности с правильным пониманием (обработкой)
визуальных данных. Если работа приложения зависит от
восприятия цвета пользователем, то это может сказаться
на пользовательском опыте, пусть даже и одного из десяти человек, т. к. именно сбалансированная инфографика
предполагает грамотное использование визуального представления (например, диаграмм, графиков, иконок, изображений), соответствующий выбор цветов и шрифтов и
др.
Так как же нам настроить приложение? Как исправить проблемы? Как можно предотвратить эти проблемы?
ПРЕДСТАВЛЕНИЕ ЦВЕТА В ЭВМ
При построении модели цвета в ЭВМ опираются в
первую очередь на то, как работает человеческий глаз. Его
можно представить как оптический прибор со своим
«объективом» — хрусталиком — и светочувствительным
элементом — сетчаткой. С помощью глаза можно различить не все электромагнитные волны, а только те, длина
которых находится в диапазоне 400...700 нм. Хрусталик
проецирует видимое изображение на сетчатку, покрытую
светочувствительными рецепторами — палочками и колбочками. Строение глаза можно увидеть на рисунке 1.
Рис. 1. Строение человеческого глаза
Intellectual Technologies on Transport. 2019. No 2
Интеллектуальные технологии на транспорте. 2019. № 2 26
Рецепторы содержат несколько типов цветочувствительных пигментов белкового происхождения. Так,
например, в колбочках содержится йодопсин (общее
название зрительных пигментов, содержащихся в колбочках сетчатки). В состав йодопсина входят три пигмента,
один из них — хлоролаб, специфический фоточувствительный пигмент. Хлоролаб получил свое название в связи со специфическим спектром поглощения в видимойобласти спектра, с максимальной чувствительностью к
области, соответствующей желто-зеленой части спектра
(максимум около 534–545 нм). Второй — эритролаб, максимальная чувствительность к области, соответствующей
желто-красной части спектра (около 564–580 нм). Третий
пигмент — цианолаб, с максимальной чувствительностью
к сине-фиолетовой части спектра (420–440 нм) [2].
Палочки, расположенные в основном на краю сетчатки, обладают крайне высокой светочувствительностью, но
при этом слабо различают длину волны. Колбочки, расположенные в основном в центре сетчатки, обладают низкой
светочувствительностью и узким диапазоном воспринимаемых длин волн (рис. 2).
Рис. 2. Чувствительность колбочек к длинам волн
Таким образом, цвет можно задавать как сумму трех
базовых цветов — красного, зеленого и синего. Такая модель получила название RGB. Эту модель можно представить в виде куба (рис. 3), в котором каждый цвет представляется трехмерным вектором, компоненты которого
определяют доли красного, зеленого и синего цветов,
смешивая которые можно получить все остальные цвета и
оттенки. В этой модели черный цвет представлен вектором (0, 0, 0), белый цвет — (1, 1, 1) [3].
Рис. 3. Куб представления цвета в RGB
Несмотря на всеобщее использование модели RGB,
она не является стандартом. Стандартом является модель
CIE XYZ, в которой каждый видимый человеком цвет
однозначно представляется с помощью тройки неотрицательных чисел (X, Y, Z). Для получения этих чисел
используются формулы
ܺ ൌ	නܫሺߣሻ ݇௫ሺߣሻ, ܻ ൌ	නܫሺߣሻ ݇௬ሺߣሻ,		
ܼ ൌ	׬ ܫሺߣሻ ݇௭ሺߣሻ,					 (1)
где ݇௫ሺߣሻ, ݇௬ሺߣሻ, ݇௭ሺߣሻ — определенные стандартом базовые функции (рис. 4).
Рис. 4. График функций ݇௫ሺߣሻ, ݇௬ሺߣሻ, ݇௭ሺߣሻ
В представленных моделях все три координаты несут в
себе информацию о цвете. Тем не менее существуют модели с явным делением координат на яркость и хроматические координаты. Одна из таких моделей – Yxy, которая
определяется следующими формулами:
	ൌ ݔ
௑
௑ା௒ା௓ , ݕ ൌ	
௒
௑ା௒ା௓	. (2)
Хроматические координаты x и y полностью определяют цвет без учета его яркости.
Рис. 5. Хроматическая диаграмма
Intellectual Technologies on Transport. 2019. No 2
Интеллектуальные технологии на транспорте. 2019. № 2 27
На рисунке 5 представлена хроматическая диаграмма,
которая содержит хроматические координаты всех видимых человеком цветов [4]. На этом изображении дуга соответствует чистым спектральным цветам, а отрезок —
цветам, получающимся при смешивании красного и синего цветов.
Если взять два цвета, то им будут соответствовать две
точки на диаграмме. Все множество цветов, получаемое
смешиванием этих двух цветов, будет выражено отрезком
между этими двумя точками. Соответственно при трех
цветах множество будет выражено треугольником.
Вывод: никакое конечное количество цветов не может
дать при смешивании все видимые человеком цвета.
Несмотря на то, что цветовое пространство CIE XYZ
является стандартом, на практике почти для всех светоизлучающих устройств используют модель RGB, поскольку
она проста и удобна; даже несмотря на то, что она не может дать все видимые цвета, ее почти всегда бывает достаточно.
Существует еще несколько моделей представления:
CMY (Cyan, Magenta, Yellow) — является обратной модели RGB и используется при печати на бумаге.
HSV (Hue, Saturation, Value) — выявляет цвет по
яркости, насыщенности и тону.
HSL (Hue, Saturation, Lightness) — цветовая модель, в которой цветовыми координатами являются тон,
насыщенность и светлота [5].
ДАЛЬТОНИЗМ
Дальтонизм (цветовая слепота) — наследственная, реже приобретенная особенность зрения, выражающаяся в
неспособности различать один или несколько цветов и
оттенков. Названа в честь Джона Дальтона, который впервые, в 1794 году, дал широкодоступное описание одного
из видов цветовой слепоты на основании собственных
ощущений.
Рис. 6. Виды дальтонизма
Люди с нормальным цветным зрением имеют в рецепторах все три пигмента (эритролаб, хлоролаб и цианолаб)
в необходимом количестве. Их называют трихроматами
(от слова хрома — цвет).
Существует несколько типов дальтонизма:
монохроматизм, имеется либо один пигмент, либо
полное их отсутствие;
дихроматизм, имеются два пигмента, третий полностью отсутствует;
аномальный трихроматизм, имеются все три пигмента, но смещен пик чувствительности для одного из
них, в результате чего получается меньший спектр цветов.
Дихроматы и аномальные трихроматы также делятся
на три типа (рис. 6):
тританопия — отсутствие/неисправность колбочек
с цианолабом (синий);
дейтеранопия — отсутствие/неисправность колбочек с хлоролабом (зеленый);
протанопия — отсутствие/неисправность колбочек
с эритролабом (красный) [6].
В результате того, что многие цвета являются сочетаниями других цветов, можно заметить, что дальтонизм
влияет на весь цветовой спектр.
На рисунке 7 представлены хроматические диаграммы
с линиями спутывания. Все цвета в направлении линий
являются трудноразличимыми. Место, где они сходятся,
называется копунктуальной точкой. Для трех разных типов дальтонизма — три разные копунктуальные точки.
Рис. 7. Хроматические диаграммы с линиями спутывания
для разных видов дальтонизма
АДАПТАЦИЯ ПРИЛОЖЕНИЙ ДЛЯ ДАЛЬТОНИКОВ
Один из самых простых способов адаптировать приложение для дальтоников — использовать символы, текст
или различные изображения вкупе с цветом. Примером
такого подхода может служить приложение Trello — органайзер, реализованный как веб-сервис [7]. На рисунке 8
видно, как эта программа меняет вкладки в зависимости
от включенного режима для дальтоников.
Intellectual Technologies on Transport. 2019. No 2
Интеллектуальные технологии на транспорте. 2019. № 2 28
Рис. 8. Интерфейс приложения Trello
Следующий пример — игра Two Dots, которая основана на соединении точек одного цвета [8]. С нарушением
цветоощущения в эту игру совершенно невозможно играть, тем не менее разработчики реализовали режим, который добавляет еще один признак для классификации в
виде рисунка или символа на цвете (рис. 9).
Рис. 9. Интерфейс игры Two Dots
Еще одним способом обеспечения доступности приложения для дальтоников является использование особых
палитр цветов. На рисунке 10 представлена палитра из 15
цветов, сделанная специально для случаев дейтеранопии.
Она сделана с помощью модели представления HSL, а не
RGB. HSL особенно хорошо подходит для создания палитр для дальтоников, так как они больше ориентируются
на яркость (Luminosity), чем на сам цвет (Hue).
Рис. 10. Палитра цветов для дейтеранопии
Данная палитра хороша для дейтеранопов, но не подходит для нормального зрения. Обратная ситуация будет,
если строить палитру только для обычного зрения.
Чтобы сделать приложение доступным для всех типов
цветоощущения, необходимо создать разные палитры для
каждого из них.
Множество компаний используют этот способ. Например, в Android (рис. 11) и iOS уже в самой ОС встроены
средства для изменения палитры цветов [9].
Рис. 11. Режимы для дальтоников в ОС Android
Одной из самых удачных попыток имплементации
данного способа является видеоигра Destiny 2 [10]. В игре,
где цвет играет очень важную роль, разработчики точно
определили, какие цвета необходимы для каждой палитры, тем самым обеспечив одинаковый опыт для всех пользователей. На рисунке 12 можно увидеть окно настройки
палитры и примеры цветов.
Рис. 12. Настройки режима для дальтоников в Destiny 2
Для проверки выбранных решений можно воспользоваться специальными симуляторами дальтонизма, которые активируют фильтр, имитирующий зрение человека с
проблемным цветоощущением. С помощью этих фильтров можно проверить правильность выбранных цветов.
Еще одним способом является просмотр всего дизайна
в монохроме. Этот тест очень полезен для выявления сливающихся оттенков, так как он позволит увидеть, какие
цвета одинаковой теплоты имеют схожие оттенки.
ЗАКЛЮЧЕНИЕ
Очень важно при создании приложения сделать его доступным для людей с отклонениями, которые при нормальных условиях не смогли бы им пользоваться

